{"planJson":{"resource_changes":[{"address":"module.sagemaker.data.aws_iam_policy_document.foo","module_address":"module.sagemaker","mode":"data","type":"aws_iam_policy_document","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sagemaker:*"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"resources":["*"],"sid":null},{"actions":["cloudwatch:PutMetricData","ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer","logs:CreateLogGroup","logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"resources":["*"],"sid":null},{"actions":["s3:GetObject"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"resources":[null,null],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false],"condition":[],"not_principals":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false,false,false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[],"not_principals":[],"principals":[],"resources":[true,true]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[],"not_principals":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false,false,false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[],"not_principals":[],"principals":[],"resources":[false,false]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.sagemaker.aws_iam_policy.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_iam_policy","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow SageMaker to create model","name":"terraform-sagemaker-example","path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.sagemaker.aws_iam_role.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_iam_role","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"sagemaker.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"terraform-sagemaker-example","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.sagemaker.aws_iam_role_policy_attachment.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_iam_role_policy_attachment","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"terraform-sagemaker-example"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.sagemaker.aws_s3_bucket.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_s3_bucket","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":null,"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags_all":true,"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl","module_address":"module.sagemaker","mode":"managed","type":"aws_s3_bucket_acl","name":"foo_bucket_acl","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","expected_bucket_owner":null},"after_unknown":{"access_control_policy":true,"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{"access_control_policy":[]}}},{"address":"module.sagemaker.aws_s3_object.object","module_address":"module.sagemaker","mode":"managed","type":"aws_s3_object","name":"object","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cache_control":null,"checksum_algorithm":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"model.tar.gz","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"override_provider":[],"source":"model.tar.gz","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"acl":true,"arn":true,"bucket":true,"bucket_key_enabled":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_sha1":true,"checksum_sha256":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"override_provider":[],"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"override_provider":[],"tags_all":{}}}},{"address":"module.sagemaker.aws_sagemaker_endpoint.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_sagemaker_endpoint","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deployment_config":[],"endpoint_config_name":"terraform-sagemaker-example","name":"terraform-sagemaker-example","tags":{"foo":"bar"},"tags_all":{"foo":"bar"}},"after_unknown":{"arn":true,"deployment_config":[],"id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"deployment_config":[],"tags":{},"tags_all":{}}}},{"address":"module.sagemaker.aws_sagemaker_endpoint_configuration.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_sagemaker_endpoint_configuration","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"async_inference_config":[],"data_capture_config":[],"kms_key_arn":null,"name":"terraform-sagemaker-example","production_variants":[{"accelerator_type":null,"container_startup_health_check_timeout_in_seconds":null,"core_dump_config":[],"enable_ssm_access":null,"initial_instance_count":1,"initial_variant_weight":1,"instance_type":"ml.t2.medium","model_data_download_timeout_in_seconds":null,"model_name":"terraform-sagemaker-example","routing_config":[],"serverless_config":[],"variant_name":"variant-1"}],"shadow_production_variants":[],"tags":{"foo":"bar"},"tags_all":{"foo":"bar"}},"after_unknown":{"arn":true,"async_inference_config":[],"data_capture_config":[],"id":true,"name_prefix":true,"production_variants":[{"core_dump_config":[],"routing_config":[],"serverless_config":[],"volume_size_in_gb":true}],"shadow_production_variants":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"async_inference_config":[],"data_capture_config":[],"production_variants":[{"core_dump_config":[],"routing_config":[],"serverless_config":[]}],"shadow_production_variants":[],"tags":{},"tags_all":{}}}},{"address":"module.sagemaker.aws_sagemaker_model.foo","module_address":"module.sagemaker","mode":"managed","type":"aws_sagemaker_model","name":"foo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"container":[],"enable_network_isolation":null,"name":"terraform-sagemaker-example","primary_container":[{"container_hostname":null,"environment":null,"image":"425443422359.dkr.ecr.us-west-2.amazonaws.com/foo:latest","image_config":[],"mode":"SingleModel","model_package_name":null}],"tags":{"foo":"bar"},"tags_all":{"foo":"bar"},"vpc_config":[]},"after_unknown":{"arn":true,"container":[],"execution_role_arn":true,"id":true,"inference_execution_config":true,"primary_container":[{"image_config":[],"model_data_source":true,"model_data_url":true}],"tags":{},"tags_all":{},"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"container":[],"inference_execution_config":[],"primary_container":[{"image_config":[],"model_data_source":[]}],"tags":{},"tags_all":{},"vpc_config":[]}}},{"address":"module.sagemaker.random_integer.bucket_suffix","module_address":"module.sagemaker","mode":"managed","type":"random_integer","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"max":99999,"min":1,"seed":null},"after_unknown":{"id":true,"result":true},"before_sensitive":false,"after_sensitive":{}}}],"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","expressions":{"region":{"constant_value":"us-west-2"}}},"module.eks:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","module_address":"module.eks","expressions":{"region":{"references":["var.aws_region"]}}},"module.eks:http":{"name":"http","full_name":"registry.terraform.io/hashicorp/http","module_address":"module.eks"},"module.elb:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","module_address":"module.elb","expressions":{"region":{"references":["var.aws_region"]}}},"module.lambda-file-systems:archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","module_address":"module.lambda-file-systems"},"module.lambda-file-systems:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","module_address":"module.lambda-file-systems","expressions":{"region":{"references":["var.aws_region"]}}},"module.sagemaker:aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","module_address":"module.sagemaker","expressions":{"region":{"constant_value":"us-west-2"}}},"module.sagemaker:random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","module_address":"module.sagemaker"}},"root_module":{"module_calls":{"ecs-alb":{"source":"./ecs-alb","expressions":{"admin_cidr_ingress":{"references":["var.admin_cidr_ingress"]}},"module":{"outputs":{"asg_name":{"expression":{"references":["aws_autoscaling_group.app.id","aws_autoscaling_group.app"]}},"elb_hostname":{"expression":{"references":["aws_alb.main.dns_name","aws_alb.main"]}},"instance_security_group":{"expression":{"references":["aws_security_group.instance_sg.id","aws_security_group.instance_sg"]}},"launch_configuration":{"expression":{"references":["aws_launch_configuration.app.id","aws_launch_configuration.app"]}}},"resources":[{"address":"aws_alb.main","mode":"managed","type":"aws_alb","name":"main","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf-example-alb-ecs"},"security_groups":{"references":["aws_security_group.lb_sg.id","aws_security_group.lb_sg"]},"subnets":{"references":["aws_subnet.main"]}},"schema_version":0},{"address":"aws_alb_listener.front_end","mode":"managed","type":"aws_alb_listener","name":"front_end","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_alb_target_group.test.id","aws_alb_target_group.test"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_alb.main.id","aws_alb.main"]},"port":{"constant_value":"80"},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_target_group.test","mode":"managed","type":"aws_alb_target_group","name":"test","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf-example-ecs-ghost"},"port":{"constant_value":8080},"protocol":{"constant_value":"HTTP"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_autoscaling_group.app","mode":"managed","type":"aws_autoscaling_group","name":"app","provider_config_key":"aws","expressions":{"desired_capacity":{"references":["var.asg_desired"]},"launch_configuration":{"references":["aws_launch_configuration.app.name","aws_launch_configuration.app"]},"max_size":{"references":["var.asg_max"]},"min_size":{"references":["var.asg_min"]},"name":{"constant_value":"tf-test-asg"},"vpc_zone_identifier":{"references":["aws_subnet.main"]}},"schema_version":1},{"address":"aws_cloudwatch_log_group.app","mode":"managed","type":"aws_cloudwatch_log_group","name":"app","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf-ecs-group/app-ghost"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.ecs","mode":"managed","type":"aws_cloudwatch_log_group","name":"ecs","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf-ecs-group/ecs-agent"}},"schema_version":0},{"address":"aws_ecs_cluster.main","mode":"managed","type":"aws_ecs_cluster","name":"main","provider_config_key":"aws","expressions":{"name":{"constant_value":"terraform_example_ecs_cluster"}},"schema_version":0},{"address":"aws_ecs_service.test","mode":"managed","type":"aws_ecs_service","name":"test","provider_config_key":"aws","expressions":{"cluster":{"references":["aws_ecs_cluster.main.id","aws_ecs_cluster.main"]},"desired_count":{"references":["var.service_desired"]},"iam_role":{"references":["aws_iam_role.ecs_service.name","aws_iam_role.ecs_service"]},"load_balancer":[{"container_name":{"constant_value":"ghost"},"container_port":{"constant_value":"2368"},"target_group_arn":{"references":["aws_alb_target_group.test.id","aws_alb_target_group.test"]}}],"name":{"constant_value":"tf-example-ecs-ghost"},"task_definition":{"references":["aws_ecs_task_definition.ghost.arn","aws_ecs_task_definition.ghost"]}},"schema_version":0,"depends_on":["aws_iam_role_policy.ecs_service","aws_alb_listener.front_end"]},{"address":"aws_ecs_task_definition.ghost","mode":"managed","type":"aws_ecs_task_definition","name":"ghost","provider_config_key":"aws","expressions":{"container_definitions":{"references":["path.module","data.aws_region.current.name","data.aws_region.current","aws_cloudwatch_log_group.app.name","aws_cloudwatch_log_group.app"]},"family":{"constant_value":"tf_example_ghost_td"}},"schema_version":1},{"address":"aws_iam_instance_profile.app","mode":"managed","type":"aws_iam_instance_profile","name":"app","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf-ecs-instprofile"},"role":{"references":["aws_iam_role.app_instance.name","aws_iam_role.app_instance"]}},"schema_version":0},{"address":"aws_iam_role.app_instance","mode":"managed","type":"aws_iam_role","name":"app_instance","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n"},"name":{"constant_value":"tf-ecs-example-instance-role"}},"schema_version":0},{"address":"aws_iam_role.ecs_service","mode":"managed","type":"aws_iam_role","name":"ecs_service","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2008-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ecs.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n"},"name":{"constant_value":"tf_example_ecs_role"}},"schema_version":0},{"address":"aws_iam_role_policy.ecs_service","mode":"managed","type":"aws_iam_role_policy","name":"ecs_service","provider_config_key":"aws","expressions":{"name":{"constant_value":"tf_example_ecs_policy"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n        \"elasticloadbalancing:RegisterTargets\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"},"role":{"references":["aws_iam_role.ecs_service.name","aws_iam_role.ecs_service"]}},"schema_version":0},{"address":"aws_iam_role_policy.instance","mode":"managed","type":"aws_iam_role_policy","name":"instance","provider_config_key":"aws","expressions":{"name":{"constant_value":"TfEcsExampleInstanceRole"},"policy":{"references":["path.module","aws_cloudwatch_log_group.app.arn","aws_cloudwatch_log_group.app","aws_cloudwatch_log_group.ecs.arn","aws_cloudwatch_log_group.ecs"]},"role":{"references":["aws_iam_role.app_instance.name","aws_iam_role.app_instance"]}},"schema_version":0},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_launch_configuration.app","mode":"managed","type":"aws_launch_configuration","name":"app","provider_config_key":"aws","expressions":{"associate_public_ip_address":{"constant_value":true},"iam_instance_profile":{"references":["aws_iam_instance_profile.app.name","aws_iam_instance_profile.app"]},"image_id":{"references":["data.aws_ssm_parameter.ecs_image_id.value","data.aws_ssm_parameter.ecs_image_id"]},"instance_type":{"references":["var.instance_type"]},"security_groups":{"references":["aws_security_group.instance_sg.id","aws_security_group.instance_sg"]},"user_data":{"references":["path.module","data.aws_region.current.name","data.aws_region.current","aws_ecs_cluster.main.name","aws_ecs_cluster.main","aws_cloudwatch_log_group.ecs.name","aws_cloudwatch_log_group.ecs"]}},"schema_version":0},{"address":"aws_route_table.r","mode":"managed","type":"aws_route_table","name":"r","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.gw.id","aws_internet_gateway.gw"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table_association.a","mode":"managed","type":"aws_route_table_association","name":"a","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.r.id","aws_route_table.r"]},"subnet_id":{"references":["aws_subnet.main","count.index"]}},"schema_version":0,"count_expression":{"references":["var.az_count"]}},{"address":"aws_security_group.instance_sg","mode":"managed","type":"aws_security_group","name":"instance_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"controls direct access to application instances"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"references":["var.admin_cidr_ingress","aws_security_group.lb_sg.id","aws_security_group.lb_sg"]},"name":{"constant_value":"tf-ecs-instsg"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_security_group.lb_sg","mode":"managed","type":"aws_security_group","name":"lb_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"controls access to the application ELB"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80}]},"name":{"constant_value":"tf-ecs-lbsg"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.main","mode":"managed","type":"aws_subnet","name":"main","provider_config_key":"aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available","count.index"]},"cidr_block":{"references":["aws_vpc.main.cidr_block","aws_vpc.main","count.index"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1,"count_expression":{"references":["var.az_count"]}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.10.0.0/16"}},"schema_version":1},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_ssm_parameter.ecs_image_id","mode":"data","type":"aws_ssm_parameter","name":"ecs_image_id","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/service/ecs/optimized-ami/amazon-linux-2023/recommended/image_id"}},"schema_version":0}],"variables":{"admin_cidr_ingress":{"description":"CIDR to allow tcp/22 ingress to EC2 instance"},"asg_desired":{"default":"1","description":"Desired numbers of servers in ASG"},"asg_max":{"default":"2","description":"Max numbers of servers in ASG"},"asg_min":{"default":"1","description":"Min numbers of servers in ASG"},"az_count":{"default":2,"description":"Number of AZs to cover in a given AWS region"},"instance_type":{"default":"t3.small","description":"AWS instance type"},"service_desired":{"default":"1","description":"Desired numbers of instances in the ecs service"}}}},"eks":{"source":"./eks","module":{"outputs":{"config_map_aws_auth":{"expression":{"references":["local.config_map_aws_auth"]}},"kubeconfig":{"expression":{"references":["local.kubeconfig"]}}},"resources":[{"address":"aws_eks_cluster.demo","mode":"managed","type":"aws_eks_cluster","name":"demo","provider_config_key":"module.eks:aws","expressions":{"name":{"references":["var.cluster_name"]},"role_arn":{"references":["aws_iam_role.demo-cluster.arn","aws_iam_role.demo-cluster"]},"vpc_config":[{"security_group_ids":{"references":["aws_security_group.demo-cluster.id","aws_security_group.demo-cluster"]},"subnet_ids":{"references":["aws_subnet.demo"]}}]},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy","aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController"]},{"address":"aws_eks_node_group.demo","mode":"managed","type":"aws_eks_node_group","name":"demo","provider_config_key":"module.eks:aws","expressions":{"cluster_name":{"references":["aws_eks_cluster.demo.name","aws_eks_cluster.demo"]},"node_group_name":{"constant_value":"demo"},"node_role_arn":{"references":["aws_iam_role.demo-node.arn","aws_iam_role.demo-node"]},"scaling_config":[{"desired_size":{"constant_value":1},"max_size":{"constant_value":1},"min_size":{"constant_value":1}}],"subnet_ids":{"references":["aws_subnet.demo"]}},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy","aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy","aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly"]},{"address":"aws_iam_role.demo-cluster","mode":"managed","type":"aws_iam_role","name":"demo-cluster","provider_config_key":"module.eks:aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n"},"name":{"constant_value":"terraform-eks-demo-cluster"}},"schema_version":0},{"address":"aws_iam_role.demo-node","mode":"managed","type":"aws_iam_role","name":"demo-node","provider_config_key":"module.eks:aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n"},"name":{"constant_value":"terraform-eks-demo-node"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"demo-cluster-AmazonEKSClusterPolicy","provider_config_key":"module.eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"},"role":{"references":["aws_iam_role.demo-cluster.name","aws_iam_role.demo-cluster"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController","mode":"managed","type":"aws_iam_role_policy_attachment","name":"demo-cluster-AmazonEKSVPCResourceController","provider_config_key":"module.eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"},"role":{"references":["aws_iam_role.demo-cluster.name","aws_iam_role.demo-cluster"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly","mode":"managed","type":"aws_iam_role_policy_attachment","name":"demo-node-AmazonEC2ContainerRegistryReadOnly","provider_config_key":"module.eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"},"role":{"references":["aws_iam_role.demo-node.name","aws_iam_role.demo-node"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"demo-node-AmazonEKSWorkerNodePolicy","provider_config_key":"module.eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"},"role":{"references":["aws_iam_role.demo-node.name","aws_iam_role.demo-node"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"demo-node-AmazonEKS_CNI_Policy","provider_config_key":"module.eks:aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"},"role":{"references":["aws_iam_role.demo-node.name","aws_iam_role.demo-node"]}},"schema_version":0},{"address":"aws_internet_gateway.demo","mode":"managed","type":"aws_internet_gateway","name":"demo","provider_config_key":"module.eks:aws","expressions":{"tags":{"constant_value":{"Name":"terraform-eks-demo"}},"vpc_id":{"references":["aws_vpc.demo.id","aws_vpc.demo"]}},"schema_version":0},{"address":"aws_route_table.demo","mode":"managed","type":"aws_route_table","name":"demo","provider_config_key":"module.eks:aws","expressions":{"route":{"references":["aws_internet_gateway.demo.id","aws_internet_gateway.demo"]},"vpc_id":{"references":["aws_vpc.demo.id","aws_vpc.demo"]}},"schema_version":0},{"address":"aws_route_table_association.demo","mode":"managed","type":"aws_route_table_association","name":"demo","provider_config_key":"module.eks:aws","expressions":{"route_table_id":{"references":["aws_route_table.demo.id","aws_route_table.demo"]},"subnet_id":{"references":["aws_subnet.demo","count.index"]}},"schema_version":0,"count_expression":{"constant_value":2}},{"address":"aws_security_group.demo-cluster","mode":"managed","type":"aws_security_group","name":"demo-cluster","provider_config_key":"module.eks:aws","expressions":{"description":{"constant_value":"Cluster communication with worker nodes"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"constant_value":"terraform-eks-demo-cluster"},"tags":{"constant_value":{"Name":"terraform-eks-demo"}},"vpc_id":{"references":["aws_vpc.demo.id","aws_vpc.demo"]}},"schema_version":1},{"address":"aws_security_group_rule.demo-cluster-ingress-workstation-https","mode":"managed","type":"aws_security_group_rule","name":"demo-cluster-ingress-workstation-https","provider_config_key":"module.eks:aws","expressions":{"cidr_blocks":{"references":["local.workstation-external-cidr"]},"description":{"constant_value":"Allow workstation to communicate with the cluster API Server"},"from_port":{"constant_value":443},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.demo-cluster.id","aws_security_group.demo-cluster"]},"to_port":{"constant_value":443},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_subnet.demo","mode":"managed","type":"aws_subnet","name":"demo","provider_config_key":"module.eks:aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available","count.index"]},"cidr_block":{"references":["count.index"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.cluster_name"]},"vpc_id":{"references":["aws_vpc.demo.id","aws_vpc.demo"]}},"schema_version":1,"count_expression":{"constant_value":2}},{"address":"aws_vpc.demo","mode":"managed","type":"aws_vpc","name":"demo","provider_config_key":"module.eks:aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"tags":{"references":["var.cluster_name"]}},"schema_version":1},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"module.eks:aws","schema_version":0},{"address":"data.http.workstation-external-ip","mode":"data","type":"http","name":"workstation-external-ip","provider_config_key":"module.eks:http","expressions":{"url":{"constant_value":"http://ipv4.icanhazip.com"}},"schema_version":0}],"variables":{"aws_region":{"default":"us-west-2"},"cluster_name":{"default":"terraform-eks-demo"}}}},"elb":{"source":"./elb","expressions":{"key_name":{"references":["var.key_name"]}},"module":{"outputs":{"address":{"expression":{"references":["aws_elb.web.dns_name","aws_elb.web"]}}},"resources":[{"address":"aws_elb.web","mode":"managed","type":"aws_elb","name":"web","provider_config_key":"module.elb:aws","expressions":{"connection_draining":{"constant_value":true},"connection_draining_timeout":{"constant_value":400},"cross_zone_load_balancing":{"constant_value":true},"health_check":[{"healthy_threshold":{"constant_value":2},"interval":{"constant_value":30},"target":{"constant_value":"HTTP:80/"},"timeout":{"constant_value":3},"unhealthy_threshold":{"constant_value":2}}],"idle_timeout":{"constant_value":400},"instances":{"references":["aws_instance.web.id","aws_instance.web"]},"listener":[{"instance_port":{"constant_value":80},"instance_protocol":{"constant_value":"http"},"lb_port":{"constant_value":80},"lb_protocol":{"constant_value":"http"}}],"name":{"constant_value":"example-elb"},"security_groups":{"references":["aws_security_group.elb.id","aws_security_group.elb"]},"subnets":{"references":["aws_subnet.tf_test_subnet.id","aws_subnet.tf_test_subnet"]}},"schema_version":0},{"address":"aws_instance.web","mode":"managed","type":"aws_instance","name":"web","provider_config_key":"module.elb:aws","expressions":{"ami":{"references":["var.aws_amis","var.aws_region"]},"instance_type":{"constant_value":"t2.micro"},"key_name":{"references":["var.key_name"]},"subnet_id":{"references":["aws_subnet.tf_test_subnet.id","aws_subnet.tf_test_subnet"]},"tags":{"constant_value":{"Name":"elb-example"}},"user_data":{},"vpc_security_group_ids":{"references":["aws_security_group.default.id","aws_security_group.default"]}},"schema_version":1},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"module.elb:aws","expressions":{"tags":{"constant_value":{"Name":"tf_test_ig"}},"vpc_id":{"references":["aws_vpc.default.id","aws_vpc.default"]}},"schema_version":0},{"address":"aws_lb_cookie_stickiness_policy.default","mode":"managed","type":"aws_lb_cookie_stickiness_policy","name":"default","provider_config_key":"module.elb:aws","expressions":{"cookie_expiration_period":{"constant_value":600},"lb_port":{"constant_value":80},"load_balancer":{"references":["aws_elb.web.id","aws_elb.web"]},"name":{"constant_value":"lbpolicy"}},"schema_version":0},{"address":"aws_route_table.r","mode":"managed","type":"aws_route_table","name":"r","provider_config_key":"module.elb:aws","expressions":{"route":{"references":["aws_internet_gateway.gw.id","aws_internet_gateway.gw"]},"tags":{"constant_value":{"Name":"aws_route_table"}},"vpc_id":{"references":["aws_vpc.default.id","aws_vpc.default"]}},"schema_version":0},{"address":"aws_route_table_association.a","mode":"managed","type":"aws_route_table_association","name":"a","provider_config_key":"module.elb:aws","expressions":{"route_table_id":{"references":["aws_route_table.r.id","aws_route_table.r"]},"subnet_id":{"references":["aws_subnet.tf_test_subnet.id","aws_subnet.tf_test_subnet"]}},"schema_version":0},{"address":"aws_security_group.default","mode":"managed","type":"aws_security_group","name":"default","provider_config_key":"module.elb:aws","expressions":{"description":{"constant_value":"Used in the terraform"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80}]},"name":{"constant_value":"instance_sg"},"vpc_id":{"references":["aws_vpc.default.id","aws_vpc.default"]}},"schema_version":1},{"address":"aws_security_group.elb","mode":"managed","type":"aws_security_group","name":"elb","provider_config_key":"module.elb:aws","expressions":{"description":{"constant_value":"Used in the terraform"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80}]},"name":{"constant_value":"elb_sg"},"vpc_id":{"references":["aws_vpc.default.id","aws_vpc.default"]}},"schema_version":1,"depends_on":["aws_internet_gateway.gw"]},{"address":"aws_subnet.tf_test_subnet","mode":"managed","type":"aws_subnet","name":"tf_test_subnet","provider_config_key":"module.elb:aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/24"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"tf_test_subnet"}},"vpc_id":{"references":["aws_vpc.default.id","aws_vpc.default"]}},"schema_version":1},{"address":"aws_vpc.default","mode":"managed","type":"aws_vpc","name":"default","provider_config_key":"module.elb:aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"tf_test"}}},"schema_version":1}],"variables":{"aws_amis":{"default":{"us-east-1":"ami-5f709f34","us-west-2":"ami-7f675e4f"}},"aws_region":{"default":"us-east-1","description":"AWS region to launch servers."},"key_name":{"description":"Name of the SSH keypair to use in AWS."}}}},"lambda-file-systems":{"source":"./lambda-file-systems","module":{"outputs":{"lambda":{"expression":{"references":["aws_lambda_function.example_lambda.qualified_arn","aws_lambda_function.example_lambda"]}}},"resources":[{"address":"aws_default_security_group.default","mode":"managed","type":"aws_default_security_group","name":"default","provider_config_key":"module.lambda-file-systems:aws","expressions":{"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":null,"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":true,"to_port":0}]},"vpc_id":{"references":["aws_default_vpc.default.id","aws_default_vpc.default"]}},"schema_version":1},{"address":"aws_default_subnet.default_az1","mode":"managed","type":"aws_default_subnet","name":"default_az1","provider_config_key":"module.lambda-file-systems:aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names[0]","data.aws_availability_zones.available.names","data.aws_availability_zones.available"]}},"schema_version":1},{"address":"aws_default_subnet.default_az2","mode":"managed","type":"aws_default_subnet","name":"default_az2","provider_config_key":"module.lambda-file-systems:aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names[1]","data.aws_availability_zones.available.names","data.aws_availability_zones.available"]}},"schema_version":1},{"address":"aws_default_vpc.default","mode":"managed","type":"aws_default_vpc","name":"default","provider_config_key":"module.lambda-file-systems:aws","schema_version":1},{"address":"aws_efs_access_point.access_point_lambda","mode":"managed","type":"aws_efs_access_point","name":"access_point_lambda","provider_config_key":"module.lambda-file-systems:aws","expressions":{"file_system_id":{"references":["aws_efs_file_system.efs_for_lambda.id","aws_efs_file_system.efs_for_lambda"]},"posix_user":[{"gid":{"constant_value":1000},"uid":{"constant_value":1000}}],"root_directory":[{"creation_info":[{"owner_gid":{"constant_value":1000},"owner_uid":{"constant_value":1000},"permissions":{"constant_value":"777"}}],"path":{"constant_value":"/lambda"}}]},"schema_version":0},{"address":"aws_efs_file_system.efs_for_lambda","mode":"managed","type":"aws_efs_file_system","name":"efs_for_lambda","provider_config_key":"module.lambda-file-systems:aws","expressions":{"tags":{"constant_value":{"Name":"efs_for_lambda"}}},"schema_version":0},{"address":"aws_efs_mount_target.mount_target_az1","mode":"managed","type":"aws_efs_mount_target","name":"mount_target_az1","provider_config_key":"module.lambda-file-systems:aws","expressions":{"file_system_id":{"references":["aws_efs_file_system.efs_for_lambda.id","aws_efs_file_system.efs_for_lambda"]},"security_groups":{"references":["aws_default_security_group.default.id","aws_default_security_group.default"]},"subnet_id":{"references":["aws_default_subnet.default_az1.id","aws_default_subnet.default_az1"]}},"schema_version":0},{"address":"aws_efs_mount_target.mount_target_az2","mode":"managed","type":"aws_efs_mount_target","name":"mount_target_az2","provider_config_key":"module.lambda-file-systems:aws","expressions":{"file_system_id":{"references":["aws_efs_file_system.efs_for_lambda.id","aws_efs_file_system.efs_for_lambda"]},"security_groups":{"references":["aws_default_security_group.default.id","aws_default_security_group.default"]},"subnet_id":{"references":["aws_default_subnet.default_az2.id","aws_default_subnet.default_az2"]}},"schema_version":0},{"address":"aws_iam_role.iam_role_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_role_for_lambda","provider_config_key":"module.lambda-file-systems:aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_policy.json","data.aws_iam_policy_document.assume_role_policy"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"AWSLambdaVPCAccessExecutionRole-attach","provider_config_key":"module.lambda-file-systems:aws","expressions":{"policy_arn":{"references":["data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole.arn","data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole"]},"role":{"references":["aws_iam_role.iam_role_for_lambda.name","aws_iam_role.iam_role_for_lambda"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"AmazonElasticFileSystemClientFullAccess-attach","provider_config_key":"module.lambda-file-systems:aws","expressions":{"policy_arn":{"references":["data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess.arn","data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess"]},"role":{"references":["aws_iam_role.iam_role_for_lambda.name","aws_iam_role.iam_role_for_lambda"]}},"schema_version":0},{"address":"aws_lambda_function.example_lambda","mode":"managed","type":"aws_lambda_function","name":"example_lambda","provider_config_key":"module.lambda-file-systems:aws","expressions":{"environment":[{"variables":{"constant_value":{"greeting":"Hello"}}}],"file_system_config":[{"arn":{"references":["aws_efs_access_point.access_point_lambda.arn","aws_efs_access_point.access_point_lambda"]},"local_mount_path":{"constant_value":"/mnt/efs"}}],"filename":{"references":["data.archive_file.zip.output_path","data.archive_file.zip"]},"function_name":{"constant_value":"hello_lambda"},"handler":{"constant_value":"hello_lambda.lambda_handler"},"role":{"references":["aws_iam_role.iam_role_for_lambda.arn","aws_iam_role.iam_role_for_lambda"]},"runtime":{"constant_value":"python3.7"},"source_code_hash":{"references":["data.archive_file.zip.output_base64sha256","data.archive_file.zip"]},"timeout":{"constant_value":60},"vpc_config":[{"security_group_ids":{"references":["aws_default_security_group.default.id","aws_default_security_group.default"]},"subnet_ids":{"references":["aws_default_subnet.default_az1.id","aws_default_subnet.default_az1","aws_default_subnet.default_az2.id","aws_default_subnet.default_az2"]}}]},"schema_version":0,"depends_on":["aws_efs_mount_target.mount_target_az1","aws_efs_mount_target.mount_target_az2"]},{"address":"data.archive_file.zip","mode":"data","type":"archive_file","name":"zip","provider_config_key":"module.lambda-file-systems:archive","expressions":{"output_path":{"constant_value":"hello_lambda.zip"},"source_file":{"constant_value":"./lambda-file-systems/hello_lambda.py"},"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"module.lambda-file-systems:aws","expressions":{"state":{"constant_value":"available"}},"schema_version":0},{"address":"data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole","mode":"data","type":"aws_iam_policy","name":"AWSLambdaVPCAccessExecutionRole","provider_config_key":"module.lambda-file-systems:aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0},{"address":"data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess","mode":"data","type":"aws_iam_policy","name":"AmazonElasticFileSystemClientFullAccess","provider_config_key":"module.lambda-file-systems:aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","provider_config_key":"module.lambda-file-systems:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["lambda.amazonaws.com"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":""}}]},"schema_version":0},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"module.lambda-file-systems:aws","schema_version":0}],"variables":{"aws_region":{"default":"us-east-1","description":"The AWS region to create things in."}}}},"sagemaker":{"source":"./sagemaker","module":{"resources":[{"address":"aws_iam_policy.foo","mode":"managed","type":"aws_iam_policy","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"description":{"constant_value":"Allow SageMaker to create model"},"name":{"constant_value":"terraform-sagemaker-example"},"policy":{"references":["data.aws_iam_policy_document.foo.json","data.aws_iam_policy_document.foo"]}},"schema_version":0},{"address":"aws_iam_role.foo","mode":"managed","type":"aws_iam_role","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role.json","data.aws_iam_policy_document.assume_role"]},"name":{"constant_value":"terraform-sagemaker-example"},"path":{"constant_value":"/"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.foo","mode":"managed","type":"aws_iam_role_policy_attachment","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"policy_arn":{"references":["aws_iam_policy.foo.arn","aws_iam_policy.foo"]},"role":{"references":["aws_iam_role.foo.name","aws_iam_role.foo"]}},"schema_version":0},{"address":"aws_s3_bucket.foo","mode":"managed","type":"aws_s3_bucket","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"bucket":{"references":["random_integer.bucket_suffix.result","random_integer.bucket_suffix"]},"force_destroy":{"constant_value":true}},"schema_version":0},{"address":"aws_s3_bucket_acl.foo_bucket_acl","mode":"managed","type":"aws_s3_bucket_acl","name":"foo_bucket_acl","provider_config_key":"module.sagemaker:aws","expressions":{"acl":{"constant_value":"private"},"bucket":{"references":["aws_s3_bucket.foo.id","aws_s3_bucket.foo"]}},"schema_version":0},{"address":"aws_s3_object.object","mode":"managed","type":"aws_s3_object","name":"object","provider_config_key":"module.sagemaker:aws","expressions":{"bucket":{"references":["aws_s3_bucket.foo.bucket","aws_s3_bucket.foo"]},"key":{"constant_value":"model.tar.gz"},"source":{"constant_value":"model.tar.gz"}},"schema_version":0},{"address":"aws_sagemaker_endpoint.foo","mode":"managed","type":"aws_sagemaker_endpoint","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"endpoint_config_name":{"references":["aws_sagemaker_endpoint_configuration.foo.name","aws_sagemaker_endpoint_configuration.foo"]},"name":{"constant_value":"terraform-sagemaker-example"},"tags":{"constant_value":{"foo":"bar"}}},"schema_version":0},{"address":"aws_sagemaker_endpoint_configuration.foo","mode":"managed","type":"aws_sagemaker_endpoint_configuration","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"name":{"constant_value":"terraform-sagemaker-example"},"production_variants":[{"initial_instance_count":{"constant_value":1},"initial_variant_weight":{"constant_value":1},"instance_type":{"constant_value":"ml.t2.medium"},"model_name":{"references":["aws_sagemaker_model.foo.name","aws_sagemaker_model.foo"]},"variant_name":{"constant_value":"variant-1"}}],"tags":{"constant_value":{"foo":"bar"}}},"schema_version":0},{"address":"aws_sagemaker_model.foo","mode":"managed","type":"aws_sagemaker_model","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"execution_role_arn":{"references":["aws_iam_role.foo.arn","aws_iam_role.foo"]},"name":{"constant_value":"terraform-sagemaker-example"},"primary_container":[{"image":{"references":["data.aws_caller_identity.current.account_id","data.aws_caller_identity.current","data.aws_region.current.name","data.aws_region.current"]},"model_data_url":{"references":["aws_s3_bucket.foo.bucket","aws_s3_bucket.foo"]}}],"tags":{"constant_value":{"foo":"bar"}}},"schema_version":0},{"address":"random_integer.bucket_suffix","mode":"managed","type":"random_integer","name":"bucket_suffix","provider_config_key":"module.sagemaker:random","expressions":{"max":{"constant_value":99999},"min":{"constant_value":1}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"module.sagemaker:aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"module.sagemaker:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["sagemaker.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.foo","mode":"data","type":"aws_iam_policy_document","name":"foo","provider_config_key":"module.sagemaker:aws","expressions":{"statement":[{"actions":{"constant_value":["sagemaker:*"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["cloudwatch:PutMetricData","logs:CreateLogStream","logs:PutLogEvents","logs:CreateLogGroup","logs:DescribeLogStreams","ecr:GetAuthorizationToken","ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["s3:GetObject"]},"effect":{"constant_value":"Allow"},"resources":{"references":["aws_s3_bucket.foo.bucket","aws_s3_bucket.foo","aws_s3_bucket.foo.bucket","aws_s3_bucket.foo"]}}]},"schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"module.sagemaker:aws","schema_version":0}]}}},"variables":{"admin_cidr_ingress":{"default":"1.2.3.4/32","description":"CIDR to allow tcp/22 ingress to EC2 instance"},"key_name":{"default":"terraform-aws-provider-example","description":"The name of the EC2 Key Pair to allow SSH access to the ECS instances"}}}}},"graph":"digraph {\n\tcompound = \"true\"\n\tnewrank = \"true\"\n\tsubgraph \"root\" {\n\t\t\"[root] module.ecs-alb.aws_alb.main (expand)\" [label = \"module.ecs-alb.aws_alb.main\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_alb_listener.front_end (expand)\" [label = \"module.ecs-alb.aws_alb_listener.front_end\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_alb_target_group.test (expand)\" [label = \"module.ecs-alb.aws_alb_target_group.test\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" [label = \"module.ecs-alb.aws_autoscaling_group.app\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.app (expand)\" [label = \"module.ecs-alb.aws_cloudwatch_log_group.app\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.ecs (expand)\" [label = \"module.ecs-alb.aws_cloudwatch_log_group.ecs\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_ecs_cluster.main (expand)\" [label = \"module.ecs-alb.aws_ecs_cluster.main\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" [label = \"module.ecs-alb.aws_ecs_service.test\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_ecs_task_definition.ghost (expand)\" [label = \"module.ecs-alb.aws_ecs_task_definition.ghost\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_iam_instance_profile.app (expand)\" [label = \"module.ecs-alb.aws_iam_instance_profile.app\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_iam_role.app_instance (expand)\" [label = \"module.ecs-alb.aws_iam_role.app_instance\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_iam_role.ecs_service (expand)\" [label = \"module.ecs-alb.aws_iam_role.ecs_service\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.ecs_service (expand)\" [label = \"module.ecs-alb.aws_iam_role_policy.ecs_service\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\" [label = \"module.ecs-alb.aws_iam_role_policy.instance\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_internet_gateway.gw (expand)\" [label = \"module.ecs-alb.aws_internet_gateway.gw\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" [label = \"module.ecs-alb.aws_launch_configuration.app\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_route_table.r (expand)\" [label = \"module.ecs-alb.aws_route_table.r\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_route_table_association.a (expand)\" [label = \"module.ecs-alb.aws_route_table_association.a\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_security_group.instance_sg (expand)\" [label = \"module.ecs-alb.aws_security_group.instance_sg\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_security_group.lb_sg (expand)\" [label = \"module.ecs-alb.aws_security_group.lb_sg\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_subnet.main (expand)\" [label = \"module.ecs-alb.aws_subnet.main\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.aws_vpc.main (expand)\" [label = \"module.ecs-alb.aws_vpc.main\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.data.aws_availability_zones.available (expand)\" [label = \"module.ecs-alb.data.aws_availability_zones.available\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.data.aws_region.current (expand)\" [label = \"module.ecs-alb.data.aws_region.current\", shape = \"box\"]\n\t\t\"[root] module.ecs-alb.data.aws_ssm_parameter.ecs_image_id (expand)\" [label = \"module.ecs-alb.data.aws_ssm_parameter.ecs_image_id\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_eks_cluster.demo (expand)\" [label = \"module.eks.aws_eks_cluster.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_eks_node_group.demo (expand)\" [label = \"module.eks.aws_eks_node_group.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role.demo-cluster (expand)\" [label = \"module.eks.aws_iam_role.demo-cluster\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role.demo-node (expand)\" [label = \"module.eks.aws_iam_role.demo-node\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy (expand)\" [label = \"module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController (expand)\" [label = \"module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly (expand)\" [label = \"module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy (expand)\" [label = \"module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy (expand)\" [label = \"module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_internet_gateway.demo (expand)\" [label = \"module.eks.aws_internet_gateway.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_route_table.demo (expand)\" [label = \"module.eks.aws_route_table.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_route_table_association.demo (expand)\" [label = \"module.eks.aws_route_table_association.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_security_group.demo-cluster (expand)\" [label = \"module.eks.aws_security_group.demo-cluster\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https (expand)\" [label = \"module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_subnet.demo (expand)\" [label = \"module.eks.aws_subnet.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.aws_vpc.demo (expand)\" [label = \"module.eks.aws_vpc.demo\", shape = \"box\"]\n\t\t\"[root] module.eks.data.aws_availability_zones.available (expand)\" [label = \"module.eks.data.aws_availability_zones.available\", shape = \"box\"]\n\t\t\"[root] module.eks.data.http.workstation-external-ip (expand)\" [label = \"module.eks.data.http.workstation-external-ip\", shape = \"box\"]\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" [label = \"module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"]\" [label = \"module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.elb.aws_elb.web (expand)\" [label = \"module.elb.aws_elb.web\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_instance.web (expand)\" [label = \"module.elb.aws_instance.web\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_internet_gateway.gw (expand)\" [label = \"module.elb.aws_internet_gateway.gw\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_lb_cookie_stickiness_policy.default (expand)\" [label = \"module.elb.aws_lb_cookie_stickiness_policy.default\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_route_table.r (expand)\" [label = \"module.elb.aws_route_table.r\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_route_table_association.a (expand)\" [label = \"module.elb.aws_route_table_association.a\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_security_group.default (expand)\" [label = \"module.elb.aws_security_group.default\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_security_group.elb (expand)\" [label = \"module.elb.aws_security_group.elb\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_subnet.tf_test_subnet (expand)\" [label = \"module.elb.aws_subnet.tf_test_subnet\", shape = \"box\"]\n\t\t\"[root] module.elb.aws_vpc.default (expand)\" [label = \"module.elb.aws_vpc.default\", shape = \"box\"]\n\t\t\"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" [label = \"module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.lambda-file-systems.aws_default_security_group.default (expand)\" [label = \"module.lambda-file-systems.aws_default_security_group.default\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_default_subnet.default_az1 (expand)\" [label = \"module.lambda-file-systems.aws_default_subnet.default_az1\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_default_subnet.default_az2 (expand)\" [label = \"module.lambda-file-systems.aws_default_subnet.default_az2\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_default_vpc.default (expand)\" [label = \"module.lambda-file-systems.aws_default_vpc.default\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_efs_access_point.access_point_lambda (expand)\" [label = \"module.lambda-file-systems.aws_efs_access_point.access_point_lambda\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_efs_file_system.efs_for_lambda (expand)\" [label = \"module.lambda-file-systems.aws_efs_file_system.efs_for_lambda\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az1 (expand)\" [label = \"module.lambda-file-systems.aws_efs_mount_target.mount_target_az1\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az2 (expand)\" [label = \"module.lambda-file-systems.aws_efs_mount_target.mount_target_az2\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_iam_role.iam_role_for_lambda (expand)\" [label = \"module.lambda-file-systems.aws_iam_role.iam_role_for_lambda\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach (expand)\" [label = \"module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach (expand)\" [label = \"module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" [label = \"module.lambda-file-systems.aws_lambda_function.example_lambda\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.archive_file.zip (expand)\" [label = \"module.lambda-file-systems.data.archive_file.zip\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.aws_availability_zones.available (expand)\" [label = \"module.lambda-file-systems.data.aws_availability_zones.available\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole (expand)\" [label = \"module.lambda-file-systems.data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess (expand)\" [label = \"module.lambda-file-systems.data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy_document.assume_role_policy (expand)\" [label = \"module.lambda-file-systems.data.aws_iam_policy_document.assume_role_policy\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.data.aws_partition.current (expand)\" [label = \"module.lambda-file-systems.data.aws_partition.current\", shape = \"box\"]\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"]\" [label = \"module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" [label = \"module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.sagemaker.aws_iam_policy.foo (expand)\" [label = \"module.sagemaker.aws_iam_policy.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_iam_role.foo (expand)\" [label = \"module.sagemaker.aws_iam_role.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_iam_role_policy_attachment.foo (expand)\" [label = \"module.sagemaker.aws_iam_role_policy_attachment.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_s3_bucket.foo (expand)\" [label = \"module.sagemaker.aws_s3_bucket.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl (expand)\" [label = \"module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_s3_object.object (expand)\" [label = \"module.sagemaker.aws_s3_object.object\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_sagemaker_endpoint.foo (expand)\" [label = \"module.sagemaker.aws_sagemaker_endpoint.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_sagemaker_endpoint_configuration.foo (expand)\" [label = \"module.sagemaker.aws_sagemaker_endpoint_configuration.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\" [label = \"module.sagemaker.aws_sagemaker_model.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.data.aws_caller_identity.current (expand)\" [label = \"module.sagemaker.data.aws_caller_identity.current\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.data.aws_iam_policy_document.assume_role (expand)\" [label = \"module.sagemaker.data.aws_iam_policy_document.assume_role\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.data.aws_iam_policy_document.foo (expand)\" [label = \"module.sagemaker.data.aws_iam_policy_document.foo\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.data.aws_region.current (expand)\" [label = \"module.sagemaker.data.aws_region.current\", shape = \"box\"]\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" [label = \"module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\", shape = \"diamond\"]\n\t\t\"[root] module.sagemaker.random_integer.bucket_suffix (expand)\" [label = \"module.sagemaker.random_integer.bucket_suffix\", shape = \"box\"]\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" [label = \"provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\", shape = \"diamond\"]\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/random\\\"]\" [label = \"provider[\\\"registry.terraform.io/hashicorp/random\\\"]\", shape = \"diamond\"]\n\t\t\"[root] var.admin_cidr_ingress\" [label = \"var.admin_cidr_ingress\", shape = \"note\"]\n\t\t\"[root] var.key_name\" [label = \"var.key_name\", shape = \"note\"]\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.aws_ecs_service.test (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.aws_route_table_association.a (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.output.asg_name (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.output.elb_hostname (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.output.instance_security_group (expand)\"\n\t\t\"[root] module.ecs-alb (close)\" -> \"[root] module.ecs-alb.output.launch_configuration (expand)\"\n\t\t\"[root] module.ecs-alb.aws_alb.main (expand)\" -> \"[root] module.ecs-alb.aws_security_group.lb_sg (expand)\"\n\t\t\"[root] module.ecs-alb.aws_alb.main (expand)\" -> \"[root] module.ecs-alb.aws_subnet.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_alb_listener.front_end (expand)\" -> \"[root] module.ecs-alb.aws_alb.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_alb_listener.front_end (expand)\" -> \"[root] module.ecs-alb.aws_alb_target_group.test (expand)\"\n\t\t\"[root] module.ecs-alb.aws_alb_target_group.test (expand)\" -> \"[root] module.ecs-alb.aws_vpc.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" -> \"[root] module.ecs-alb.aws_launch_configuration.app (expand)\"\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" -> \"[root] module.ecs-alb.aws_subnet.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" -> \"[root] module.ecs-alb.var.asg_desired (expand)\"\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" -> \"[root] module.ecs-alb.var.asg_max (expand)\"\n\t\t\"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\" -> \"[root] module.ecs-alb.var.asg_min (expand)\"\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.app (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.app (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.ecs (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_cloudwatch_log_group.ecs (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.aws_ecs_cluster.main (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_cluster.main (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" -> \"[root] module.ecs-alb.aws_alb_listener.front_end (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" -> \"[root] module.ecs-alb.aws_ecs_cluster.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" -> \"[root] module.ecs-alb.aws_ecs_task_definition.ghost (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" -> \"[root] module.ecs-alb.aws_iam_role_policy.ecs_service (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_service.test (expand)\" -> \"[root] module.ecs-alb.var.service_desired (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_task_definition.ghost (expand)\" -> \"[root] module.ecs-alb.aws_cloudwatch_log_group.app (expand)\"\n\t\t\"[root] module.ecs-alb.aws_ecs_task_definition.ghost (expand)\" -> \"[root] module.ecs-alb.data.aws_region.current (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_instance_profile.app (expand)\" -> \"[root] module.ecs-alb.aws_iam_role.app_instance (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role.app_instance (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role.app_instance (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.aws_iam_role.ecs_service (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role.ecs_service (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.ecs_service (expand)\" -> \"[root] module.ecs-alb.aws_iam_role.ecs_service (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\" -> \"[root] module.ecs-alb.aws_cloudwatch_log_group.app (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\" -> \"[root] module.ecs-alb.aws_cloudwatch_log_group.ecs (expand)\"\n\t\t\"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\" -> \"[root] module.ecs-alb.aws_iam_role.app_instance (expand)\"\n\t\t\"[root] module.ecs-alb.aws_internet_gateway.gw (expand)\" -> \"[root] module.ecs-alb.aws_vpc.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.aws_cloudwatch_log_group.ecs (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.aws_ecs_cluster.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.aws_iam_instance_profile.app (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.aws_security_group.instance_sg (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.data.aws_region.current (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.data.aws_ssm_parameter.ecs_image_id (expand)\"\n\t\t\"[root] module.ecs-alb.aws_launch_configuration.app (expand)\" -> \"[root] module.ecs-alb.var.instance_type (expand)\"\n\t\t\"[root] module.ecs-alb.aws_route_table.r (expand)\" -> \"[root] module.ecs-alb.aws_internet_gateway.gw (expand)\"\n\t\t\"[root] module.ecs-alb.aws_route_table_association.a (expand)\" -> \"[root] module.ecs-alb.aws_route_table.r (expand)\"\n\t\t\"[root] module.ecs-alb.aws_route_table_association.a (expand)\" -> \"[root] module.ecs-alb.aws_subnet.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_security_group.instance_sg (expand)\" -> \"[root] module.ecs-alb.aws_security_group.lb_sg (expand)\"\n\t\t\"[root] module.ecs-alb.aws_security_group.instance_sg (expand)\" -> \"[root] module.ecs-alb.var.admin_cidr_ingress (expand)\"\n\t\t\"[root] module.ecs-alb.aws_security_group.lb_sg (expand)\" -> \"[root] module.ecs-alb.aws_vpc.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_subnet.main (expand)\" -> \"[root] module.ecs-alb.aws_vpc.main (expand)\"\n\t\t\"[root] module.ecs-alb.aws_subnet.main (expand)\" -> \"[root] module.ecs-alb.data.aws_availability_zones.available (expand)\"\n\t\t\"[root] module.ecs-alb.aws_subnet.main (expand)\" -> \"[root] module.ecs-alb.var.az_count (expand)\"\n\t\t\"[root] module.ecs-alb.aws_vpc.main (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.aws_vpc.main (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.data.aws_availability_zones.available (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.data.aws_availability_zones.available (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.data.aws_region.current (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.data.aws_region.current (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.data.aws_ssm_parameter.ecs_image_id (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.data.aws_ssm_parameter.ecs_image_id (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.ecs-alb.output.asg_name (expand)\" -> \"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\"\n\t\t\"[root] module.ecs-alb.output.elb_hostname (expand)\" -> \"[root] module.ecs-alb.aws_alb.main (expand)\"\n\t\t\"[root] module.ecs-alb.output.instance_security_group (expand)\" -> \"[root] module.ecs-alb.aws_security_group.instance_sg (expand)\"\n\t\t\"[root] module.ecs-alb.output.launch_configuration (expand)\" -> \"[root] module.ecs-alb.aws_launch_configuration.app (expand)\"\n\t\t\"[root] module.ecs-alb.var.admin_cidr_ingress (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.admin_cidr_ingress (expand)\" -> \"[root] var.admin_cidr_ingress\"\n\t\t\"[root] module.ecs-alb.var.asg_desired (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.asg_max (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.asg_min (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.az_count (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.instance_type (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.ecs-alb.var.service_desired (expand)\" -> \"[root] module.ecs-alb (expand)\"\n\t\t\"[root] module.eks (close)\" -> \"[root] module.eks.aws_eks_node_group.demo (expand)\"\n\t\t\"[root] module.eks (close)\" -> \"[root] module.eks.aws_route_table_association.demo (expand)\"\n\t\t\"[root] module.eks (close)\" -> \"[root] module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https (expand)\"\n\t\t\"[root] module.eks (close)\" -> \"[root] module.eks.output.config_map_aws_auth (expand)\"\n\t\t\"[root] module.eks (close)\" -> \"[root] module.eks.output.kubeconfig (expand)\"\n\t\t\"[root] module.eks.aws_eks_cluster.demo (expand)\" -> \"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy (expand)\"\n\t\t\"[root] module.eks.aws_eks_cluster.demo (expand)\" -> \"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController (expand)\"\n\t\t\"[root] module.eks.aws_eks_cluster.demo (expand)\" -> \"[root] module.eks.aws_security_group.demo-cluster (expand)\"\n\t\t\"[root] module.eks.aws_eks_cluster.demo (expand)\" -> \"[root] module.eks.aws_subnet.demo (expand)\"\n\t\t\"[root] module.eks.aws_eks_node_group.demo (expand)\" -> \"[root] module.eks.aws_eks_cluster.demo (expand)\"\n\t\t\"[root] module.eks.aws_eks_node_group.demo (expand)\" -> \"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly (expand)\"\n\t\t\"[root] module.eks.aws_eks_node_group.demo (expand)\" -> \"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy (expand)\"\n\t\t\"[root] module.eks.aws_eks_node_group.demo (expand)\" -> \"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy (expand)\"\n\t\t\"[root] module.eks.aws_iam_role.demo-cluster (expand)\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.eks.aws_iam_role.demo-node (expand)\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSClusterPolicy (expand)\" -> \"[root] module.eks.aws_iam_role.demo-cluster (expand)\"\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-cluster-AmazonEKSVPCResourceController (expand)\" -> \"[root] module.eks.aws_iam_role.demo-cluster (expand)\"\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEC2ContainerRegistryReadOnly (expand)\" -> \"[root] module.eks.aws_iam_role.demo-node (expand)\"\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKSWorkerNodePolicy (expand)\" -> \"[root] module.eks.aws_iam_role.demo-node (expand)\"\n\t\t\"[root] module.eks.aws_iam_role_policy_attachment.demo-node-AmazonEKS_CNI_Policy (expand)\" -> \"[root] module.eks.aws_iam_role.demo-node (expand)\"\n\t\t\"[root] module.eks.aws_internet_gateway.demo (expand)\" -> \"[root] module.eks.aws_vpc.demo (expand)\"\n\t\t\"[root] module.eks.aws_route_table.demo (expand)\" -> \"[root] module.eks.aws_internet_gateway.demo (expand)\"\n\t\t\"[root] module.eks.aws_route_table_association.demo (expand)\" -> \"[root] module.eks.aws_route_table.demo (expand)\"\n\t\t\"[root] module.eks.aws_route_table_association.demo (expand)\" -> \"[root] module.eks.aws_subnet.demo (expand)\"\n\t\t\"[root] module.eks.aws_security_group.demo-cluster (expand)\" -> \"[root] module.eks.aws_vpc.demo (expand)\"\n\t\t\"[root] module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https (expand)\" -> \"[root] module.eks.aws_security_group.demo-cluster (expand)\"\n\t\t\"[root] module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https (expand)\" -> \"[root] module.eks.local.workstation-external-cidr (expand)\"\n\t\t\"[root] module.eks.aws_subnet.demo (expand)\" -> \"[root] module.eks.aws_vpc.demo (expand)\"\n\t\t\"[root] module.eks.aws_subnet.demo (expand)\" -> \"[root] module.eks.data.aws_availability_zones.available (expand)\"\n\t\t\"[root] module.eks.aws_vpc.demo (expand)\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.eks.aws_vpc.demo (expand)\" -> \"[root] module.eks.var.cluster_name (expand)\"\n\t\t\"[root] module.eks.data.aws_availability_zones.available (expand)\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.eks.data.http.workstation-external-ip (expand)\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"]\"\n\t\t\"[root] module.eks.local.config_map_aws_auth (expand)\" -> \"[root] module.eks.aws_iam_role.demo-node (expand)\"\n\t\t\"[root] module.eks.local.kubeconfig (expand)\" -> \"[root] module.eks.aws_eks_cluster.demo (expand)\"\n\t\t\"[root] module.eks.local.workstation-external-cidr (expand)\" -> \"[root] module.eks.data.http.workstation-external-ip (expand)\"\n\t\t\"[root] module.eks.output.config_map_aws_auth (expand)\" -> \"[root] module.eks.local.config_map_aws_auth (expand)\"\n\t\t\"[root] module.eks.output.kubeconfig (expand)\" -> \"[root] module.eks.local.kubeconfig (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.eks.aws_eks_node_group.demo (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.eks.aws_route_table_association.demo (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.eks.aws_security_group_rule.demo-cluster-ingress-workstation-https (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" -> \"[root] module.eks.var.aws_region (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"] (close)\" -> \"[root] module.eks.data.http.workstation-external-ip (expand)\"\n\t\t\"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"]\" -> \"[root] module.eks (expand)\"\n\t\t\"[root] module.eks.var.aws_region (expand)\" -> \"[root] module.eks (expand)\"\n\t\t\"[root] module.eks.var.cluster_name (expand)\" -> \"[root] module.eks (expand)\"\n\t\t\"[root] module.elb (close)\" -> \"[root] module.elb.aws_lb_cookie_stickiness_policy.default (expand)\"\n\t\t\"[root] module.elb (close)\" -> \"[root] module.elb.aws_route_table_association.a (expand)\"\n\t\t\"[root] module.elb (close)\" -> \"[root] module.elb.output.address (expand)\"\n\t\t\"[root] module.elb.aws_elb.web (expand)\" -> \"[root] module.elb.aws_instance.web (expand)\"\n\t\t\"[root] module.elb.aws_elb.web (expand)\" -> \"[root] module.elb.aws_security_group.elb (expand)\"\n\t\t\"[root] module.elb.aws_instance.web (expand)\" -> \"[root] module.elb.aws_security_group.default (expand)\"\n\t\t\"[root] module.elb.aws_instance.web (expand)\" -> \"[root] module.elb.aws_subnet.tf_test_subnet (expand)\"\n\t\t\"[root] module.elb.aws_instance.web (expand)\" -> \"[root] module.elb.var.aws_amis (expand)\"\n\t\t\"[root] module.elb.aws_instance.web (expand)\" -> \"[root] module.elb.var.key_name (expand)\"\n\t\t\"[root] module.elb.aws_internet_gateway.gw (expand)\" -> \"[root] module.elb.aws_vpc.default (expand)\"\n\t\t\"[root] module.elb.aws_lb_cookie_stickiness_policy.default (expand)\" -> \"[root] module.elb.aws_elb.web (expand)\"\n\t\t\"[root] module.elb.aws_route_table.r (expand)\" -> \"[root] module.elb.aws_internet_gateway.gw (expand)\"\n\t\t\"[root] module.elb.aws_route_table_association.a (expand)\" -> \"[root] module.elb.aws_route_table.r (expand)\"\n\t\t\"[root] module.elb.aws_route_table_association.a (expand)\" -> \"[root] module.elb.aws_subnet.tf_test_subnet (expand)\"\n\t\t\"[root] module.elb.aws_security_group.default (expand)\" -> \"[root] module.elb.aws_vpc.default (expand)\"\n\t\t\"[root] module.elb.aws_security_group.elb (expand)\" -> \"[root] module.elb.aws_internet_gateway.gw (expand)\"\n\t\t\"[root] module.elb.aws_subnet.tf_test_subnet (expand)\" -> \"[root] module.elb.aws_vpc.default (expand)\"\n\t\t\"[root] module.elb.aws_vpc.default (expand)\" -> \"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.elb.output.address (expand)\" -> \"[root] module.elb.aws_elb.web (expand)\"\n\t\t\"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.elb.aws_lb_cookie_stickiness_policy.default (expand)\"\n\t\t\"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.elb.aws_route_table_association.a (expand)\"\n\t\t\"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" -> \"[root] module.elb.var.aws_region (expand)\"\n\t\t\"[root] module.elb.var.aws_amis (expand)\" -> \"[root] module.elb (expand)\"\n\t\t\"[root] module.elb.var.aws_region (expand)\" -> \"[root] module.elb (expand)\"\n\t\t\"[root] module.elb.var.key_name (expand)\" -> \"[root] module.elb (expand)\"\n\t\t\"[root] module.elb.var.key_name (expand)\" -> \"[root] var.key_name\"\n\t\t\"[root] module.lambda-file-systems (close)\" -> \"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach (expand)\"\n\t\t\"[root] module.lambda-file-systems (close)\" -> \"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach (expand)\"\n\t\t\"[root] module.lambda-file-systems (close)\" -> \"[root] module.lambda-file-systems.output.lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_default_security_group.default (expand)\" -> \"[root] module.lambda-file-systems.aws_default_vpc.default (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_default_subnet.default_az1 (expand)\" -> \"[root] module.lambda-file-systems.data.aws_availability_zones.available (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_default_subnet.default_az2 (expand)\" -> \"[root] module.lambda-file-systems.data.aws_availability_zones.available (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_default_vpc.default (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_access_point.access_point_lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_file_system.efs_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_file_system.efs_for_lambda (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az1 (expand)\" -> \"[root] module.lambda-file-systems.aws_default_security_group.default (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az1 (expand)\" -> \"[root] module.lambda-file-systems.aws_default_subnet.default_az1 (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az1 (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_file_system.efs_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az2 (expand)\" -> \"[root] module.lambda-file-systems.aws_default_security_group.default (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az2 (expand)\" -> \"[root] module.lambda-file-systems.aws_default_subnet.default_az2 (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az2 (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_file_system.efs_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_iam_role.iam_role_for_lambda (expand)\" -> \"[root] module.lambda-file-systems.data.aws_iam_policy_document.assume_role_policy (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach (expand)\" -> \"[root] module.lambda-file-systems.aws_iam_role.iam_role_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach (expand)\" -> \"[root] module.lambda-file-systems.data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach (expand)\" -> \"[root] module.lambda-file-systems.aws_iam_role.iam_role_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach (expand)\" -> \"[root] module.lambda-file-systems.data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_access_point.access_point_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az1 (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_efs_mount_target.mount_target_az2 (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_iam_role.iam_role_for_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\" -> \"[root] module.lambda-file-systems.data.archive_file.zip (expand)\"\n\t\t\"[root] module.lambda-file-systems.data.archive_file.zip (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"]\"\n\t\t\"[root] module.lambda-file-systems.data.aws_availability_zones.available (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy.AWSLambdaVPCAccessExecutionRole (expand)\" -> \"[root] module.lambda-file-systems.data.aws_partition.current (expand)\"\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy.AmazonElasticFileSystemClientFullAccess (expand)\" -> \"[root] module.lambda-file-systems.data.aws_partition.current (expand)\"\n\t\t\"[root] module.lambda-file-systems.data.aws_iam_policy_document.assume_role_policy (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.lambda-file-systems.data.aws_partition.current (expand)\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.lambda-file-systems.output.lambda (expand)\" -> \"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"] (close)\" -> \"[root] module.lambda-file-systems.data.archive_file.zip (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"]\" -> \"[root] module.lambda-file-systems (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AWSLambdaVPCAccessExecutionRole-attach (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.lambda-file-systems.aws_iam_role_policy_attachment.AmazonElasticFileSystemClientFullAccess-attach (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.lambda-file-systems.aws_lambda_function.example_lambda (expand)\"\n\t\t\"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" -> \"[root] module.lambda-file-systems.var.aws_region (expand)\"\n\t\t\"[root] module.lambda-file-systems.var.aws_region (expand)\" -> \"[root] module.lambda-file-systems (expand)\"\n\t\t\"[root] module.sagemaker (close)\" -> \"[root] module.sagemaker.aws_iam_role_policy_attachment.foo (expand)\"\n\t\t\"[root] module.sagemaker (close)\" -> \"[root] module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl (expand)\"\n\t\t\"[root] module.sagemaker (close)\" -> \"[root] module.sagemaker.aws_s3_object.object (expand)\"\n\t\t\"[root] module.sagemaker (close)\" -> \"[root] module.sagemaker.aws_sagemaker_endpoint.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_iam_policy.foo (expand)\" -> \"[root] module.sagemaker.data.aws_iam_policy_document.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_iam_role.foo (expand)\" -> \"[root] module.sagemaker.data.aws_iam_policy_document.assume_role (expand)\"\n\t\t\"[root] module.sagemaker.aws_iam_role_policy_attachment.foo (expand)\" -> \"[root] module.sagemaker.aws_iam_policy.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_iam_role_policy_attachment.foo (expand)\" -> \"[root] module.sagemaker.aws_iam_role.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_s3_bucket.foo (expand)\" -> \"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.sagemaker.aws_s3_bucket.foo (expand)\" -> \"[root] module.sagemaker.random_integer.bucket_suffix (expand)\"\n\t\t\"[root] module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl (expand)\" -> \"[root] module.sagemaker.aws_s3_bucket.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_s3_object.object (expand)\" -> \"[root] module.sagemaker.aws_s3_bucket.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_endpoint.foo (expand)\" -> \"[root] module.sagemaker.aws_sagemaker_endpoint_configuration.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_endpoint_configuration.foo (expand)\" -> \"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\" -> \"[root] module.sagemaker.aws_iam_role.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\" -> \"[root] module.sagemaker.aws_s3_bucket.foo (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\" -> \"[root] module.sagemaker.data.aws_caller_identity.current (expand)\"\n\t\t\"[root] module.sagemaker.aws_sagemaker_model.foo (expand)\" -> \"[root] module.sagemaker.data.aws_region.current (expand)\"\n\t\t\"[root] module.sagemaker.data.aws_caller_identity.current (expand)\" -> \"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.sagemaker.data.aws_iam_policy_document.assume_role (expand)\" -> \"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.sagemaker.data.aws_iam_policy_document.foo (expand)\" -> \"[root] module.sagemaker.aws_s3_bucket.foo (expand)\"\n\t\t\"[root] module.sagemaker.data.aws_region.current (expand)\" -> \"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\"\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.sagemaker.aws_iam_role_policy_attachment.foo (expand)\"\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.sagemaker.aws_s3_bucket_acl.foo_bucket_acl (expand)\"\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.sagemaker.aws_s3_object.object (expand)\"\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.sagemaker.aws_sagemaker_endpoint.foo (expand)\"\n\t\t\"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"]\" -> \"[root] module.sagemaker (expand)\"\n\t\t\"[root] module.sagemaker.random_integer.bucket_suffix (expand)\" -> \"[root] module.sagemaker (expand)\"\n\t\t\"[root] module.sagemaker.random_integer.bucket_suffix (expand)\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/random\\\"]\"\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.ecs-alb.aws_autoscaling_group.app (expand)\"\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.ecs-alb.aws_ecs_service.test (expand)\"\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.ecs-alb.aws_iam_role_policy.instance (expand)\"\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\" -> \"[root] module.ecs-alb.aws_route_table_association.a (expand)\"\n\t\t\"[root] provider[\\\"registry.terraform.io/hashicorp/random\\\"] (close)\" -> \"[root] module.sagemaker.random_integer.bucket_suffix (expand)\"\n\t\t\"[root] root\" -> \"[root] module.ecs-alb (close)\"\n\t\t\"[root] root\" -> \"[root] module.eks (close)\"\n\t\t\"[root] root\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] module.eks.provider[\\\"registry.terraform.io/hashicorp/http\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] module.elb (close)\"\n\t\t\"[root] root\" -> \"[root] module.elb.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] module.lambda-file-systems (close)\"\n\t\t\"[root] root\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/archive\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] module.lambda-file-systems.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] module.sagemaker (close)\"\n\t\t\"[root] root\" -> \"[root] module.sagemaker.provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/aws\\\"] (close)\"\n\t\t\"[root] root\" -> \"[root] provider[\\\"registry.terraform.io/hashicorp/random\\\"] (close)\"\n\t}\n}\n","detailed":false,"debug":false,"showUnchanged":true,"ci":true,"opacityFull":true}